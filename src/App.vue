<template>
  <div>
    <h1>âœ¨ Vite è‡ªåŠ¨éƒ¨ç½²å·²æ¿€æ´»ï¼</h1>
    
    <!-- çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’ message -->
    <MessageDisplay 
      :message="parentMessage" 
      @reply="handleChildReply"
    />
    
    <!-- æ˜¾ç¤ºå­ç»„ä»¶å›å¤ -->
    <div v-if="childReply" class="reply-box">
      <strong>â½—ç»„ä»¶æ”¶åˆ°å›å¤ï¼š</strong> {{ childReply }}
    </div>
    
    <!-- ä¿®æ”¹çˆ¶ç»„ä»¶æ¶ˆæ¯çš„è¾“å…¥æ¡† -->
    <div class="input-area">
      <input 
        v-model="parentMessage" 
        placeholder="è¾“å…¥æ–°æ¶ˆæ¯..."
      />
      <button @click="reset">ğŸ”„ é‡ç½®</button>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import MessageDisplay from './components/MessageDisplay.vue'

// çˆ¶ç»„ä»¶æ•°æ®ï¼ˆä¼šä¼ ç»™å­ç»„ä»¶ï¼‰
const parentMessage = ref('Hello from Parent!')

// æ¥æ”¶å­ç»„ä»¶çš„å›å¤
const childReply = ref('')

// å¤„ç†å­ç»„ä»¶è§¦å‘çš„ reply äº‹ä»¶
const handleChildReply = (msg) => {
  childReply.value = msg
  alert(`âœ… çˆ¶ç»„ä»¶æ”¶åˆ°ï¼š${msg}`)
}

// é‡ç½®æ¶ˆæ¯
const reset = () => {
  parentMessage.value = 'Hello from Parent!'
  childReply.value = ''
}
</script>

<style>
.reply-box {
  margin: 15px;
  padding: 12px;
  background: #e8f5e9;
  border-radius: 8px;
  color: #2e7d32;
}
.input-area {
  margin-top: 20px;
  display: flex;
  gap: 10px;
}
input {
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  flex: 1;
}
button {
  background: #4caf50;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 4px;
  cursor: pointer;
}
button:hover {
  background: #45a049;
}
</style>